{{ define "extra_header"}}
<script src="/scripts/baguetteBox.min.js" charset="utf-8"></script>
<script>
  window.onload = function () {
    baguetteBox.run('.gallery', {noScrollbars: true});
  }
</script>
<link rel="stylesheet" href="/styles/baguetteBox.min.css">
<link rel="stylesheet" href="/styles/image-list.css">
{{ end }}
{{ define "main" }}
  <h2>{{ .Title }}</h2>

  <p>These are some pictures I took, updated sporadically.</p>
  <p>
    All images by <a xmlns:cc="http://creativecommons.org/ns#" href="https://mercotui.com/potd" target="_blank" property="cc:attributionName" rel="cc:attributionURL">Menno van der Graaf</a>,
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank"><img alt="Creative Commons License" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"/></a><br/>
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
  </p>

  <div class="gallery image-list">
    {{ $images := .Resources.Get "images.yaml" | transform.Unmarshal }}
    {{ range $collection := sort $images "year" "desc"  }}
      {{ range $meta := $collection.photos }}
        {{ $photo := $.Resources.GetMatch $meta.src }}
        {{ $thumbnail := $photo.Process "resize x500 center" }}
        <div class="image-list-item">
          <a href="{{ $photo.RelPermalink }}" target="_blank" data-caption="{{ $meta.title }}">
            <img src="{{ $thumbnail.RelPermalink }}" class="image-list-thumbnail" alt="{{ $meta.title }}"/>
          </a>
          <div about="{{ $photo.RelPermalink }}" style="display: none;">
            <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/StillImage" property="dct:title" rel="dct:type">{{ $meta.title }}</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://mercotui.com/potd" property="cc:attributionName" rel="cc:attributionURL">Menno van der Graaf</a>,
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a> <br/>
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
          </div>
        </div>
      {{ end }}
    {{ end }}
  </div>
{{ end }}
